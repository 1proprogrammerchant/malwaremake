/*
  Íàäñòðéîêà íàä GDI/GDI+
*/
#pragma once

namespace Gdi
{
  /*
    Èíèöèàëèçàöèÿ.
  */
  void init(void);

  /*
    Äåèíèöèàëèçàöèÿ.
  */
  void uninit(void);

  /*
    Ñîõðàíåíèå HBITMAP â ôàéë.

    IN fileName     - ôàéë.
    IN dc           - DC.
    IN bitmapHandle - HBITMAP.

    Return          - true - â ñëó÷àè óñïåõà,
                      false - â ñëó÷àè ïðîâàëà.
  */
  bool _saveBitmapToFile(const LPWSTR fileName, HDC dc, HBITMAP bitmapHandle);

  /*Â Â Â Â Wrapper for CreateDIBSection, Kotra can more easily create DIBSection.

Â Â Â Â IN dc - DC.
Â Â Â Â IN width - the width of the bitmap.
Â Â Â Â IN height - the height of the bitmap.
Â Â Â Â OUT bitmapInfo - information about the bitmap, must be cleared through the Mem. May be NULL.
Â Â Â Â OUT bitmapBits - data address bitmap.
Â Â Â Â IN fileMap - Map-file object, or NULL.
Â Â Â Â IN fileMapOffset - offset in fileMap.

Â Â Â Â Return - the bitmap, or NULL.

Â Â Â Â Note: The bitmap will always be in the format BI_RGB format 8/16/32.
Â Â */
  HBITMAP _createDibSection(HDC dc, int width, int height, BITMAPINFO **bitmapInfo, void **bitmapBits, HANDLE fileMap, DWORD fileMapOffset);
};
